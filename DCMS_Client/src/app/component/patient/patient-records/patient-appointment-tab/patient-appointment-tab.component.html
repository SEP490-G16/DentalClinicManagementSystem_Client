<div class="recent-orders bg-white" style="border-radius: 15px;">
  <div class="content-wrapper">
    <div class="row">
      <div class="card-box">
        <ul class="nav nav-tabs" style="padding: 0px 80px;
        ">
          <li class="nav-item mr-2"><a class="nav-link" style="padding: 10px; color: #000; cursor: pointer;"
              (click)="navigateHref('/benhnhan/danhsach/tab/hosobenhnhan/')">Thông tin
              chung</a>
          </li>
          <li class="nav-item mr-2"><a class="nav-link"
              (click)="navigateHref('/benhnhan/danhsach/tab/lichtrinhdieutri/')"
              style="padding: 10px; color: #000; cursor:pointer">Khám và
              điều trị</a></li>
          <li class="nav-item mr-2"><a class="nav-link active" style="padding: 10px; cursor:pointer;color: #7B4C50;"
              (click)="navigateHref('/benhnhan/danhsach/tab/lichhen/')">Lịch hẹn</a>
          </li>
          <li class="nav-item mr-2"><a class="nav-link" style="padding: 10px; color: #000; cursor:pointer"
              (click)="navigateHref('/benhnhan/danhsach/tab/thanhtoan/')">Thanh toán</a>
          </li>
        </ul>
      </div>
    </div>
    <div class="tab-pane" id="LHtab" style="padding: 50px;">
      <div class="row">
        <div class="col-12 text-end mb-3">
          <button class="btn btn-custom" data-bs-toggle="modal" data-bs-target="#myModal">Đặt lịch tái khám</button>
        </div>
      </div>

      <div class="row">
        <div class="table-container">
          <table>
            <thead class="sticky-thead">
              <tr>
                <th scope="col">Thời gian</th>
                <th scope="col">Bác sĩ</th>
                <th scope="col">Lý do</th>
                <th scope="col">Tình trạng</th>
                <th scope="col">Option</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let gf of patientAppointments">
                <ng-container *ngFor="let ap of gf.appointments">
                  <tr *ngFor="let detail of ap.details">
                    <td>{{timestampToGMT7String(detail.time)}} - {{convertTimestampToVNDateString(gf.date)}}</td>
                    <td>{{detail.doctor}}</td>
                    <td></td>
                    <td></td>
                    <td>
                      <button class="btn" data-bs-toggle="modal" data-bs-target="#editAppointmentModal"
                        (click)="editAppointment(detail, gf.date)"><i class="bi bi-pencil-square"></i></button>
                    </td>
                  </tr>
                </ng-container>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<app-popup-datlichtaikham></app-popup-datlichtaikham>
<app-popup-sualichtaikham [EditAppointmentPatient]="EditAppointmentPatient" [dateString]="dateString"
  [timeString]="timeString"></app-popup-sualichtaikham>
